# Day1：ジャンプと重力の基本の日（7人×3時間用シナリオ）

## 0. 今日のゴール（先生が最初に読む用）

3時間で、次を「クラス全体」として完成させます。

1. 自動スクロールする背景の上で、主人公が **Spaceキーでジャンプ** できる  
2. 主人公は重力で落ちてきて、**地面でピタッと止まる**  
3. コードの中で「重力」「ジャンプ」「地面の高さ」を自分の言葉で説明できる  

### 絶対ルール

- この日は **Kivy の土台づくりとジャンプのしくみ** に集中する
- 触るファイルは基本的に `main_day1.py` のみ（他は読んでもOK）
- 迷ったら先生かこのプリントに必ず戻る

---

## 1. 今日の7人の役割（先に割り当てる）

| No | 役割名                 | 触るファイル      | ざっくりやること                                   |
|----|------------------------|-------------------|----------------------------------------------------|
| A  | プロジェクト起動担当   | `main_day1.py`    | Kivyゲームを起動できるようにする                   |
| B  | 画面サイズ＆地面担当   | `main_day1.py`    | 画面サイズと地面の高さ（GROUND_Y）を決める        |
| C  | 重力（落下）担当       | `main_day1.py`    | 主人公が落ちてくる処理を書く                       |
| D  | ジャンプ担当           | `main_day1.py`    | Spaceキーでジャンプできるようにする               |
| E  | 背景スクロール担当     | `main_day1.py`    | 横方向に動いているように見える背景を作る           |
| F  | 掃除＆コメント担当     | `main_day1.py`    | 変数名やコメントを整理して、読みやすくする         |
| G  | テスト＆バグログ担当   | `docs/Day1_buglog.md` | 動作確認とバグ／改善アイデアの記録            |

> 先生へ：  
> 役割は固定ではなく、途中で交代してもOKです。  
> 「Aが環境準備、B〜Eが物理と見た目、Fがリファクタ、Gが記録」というイメージです。

---

## 2. 今日の時間割（板書用）

- 0:00〜0:10　Neon Runner C の説明＆Day1のゴール共有
- 0:10〜0:25　環境チェック（Python／Kivy が動くか確認）
- 0:25〜1:10　**個人作業タイム**（A〜Eの担当ごとにコーディング）
- 1:10〜1:40　コードの共有・Fによる「読みやすさチェック」
- 1:40〜2:20　G主導でテスト＆バグログ作成
- 2:20〜3:00　今日のふりかえり＆発展アイデアのメモ

---

## 3. 各役割の「やることチェックリスト」

### 3-1. A：プロジェクト起動担当

**目的**：全員が `python main_day1.py` でゲームを起動できるようにする。

#### チェックリスト

- [ ] ターミナル（またはVSCodeのターミナル）を開いた
- [ ] プロジェクトフォルダに移動した（`cd Pufferfish-Sashimi_Runner-main`）
- [ ] 必要なら `pip install kivy kivymd` を実行した
- [ ] `python main_day1.py` でウィンドウが開くことを確認した
- [ ] うまくいかなかった人のエラーを、先生と一緒に読んでサポートした

---

### 3-2. B：画面サイズ＆地面担当

**目的**：主人公が走る「世界の大きさ」と「地面の高さ」を決める。

#### チェックリスト

- [ ] `config.py` や `main_day1.py` の中から `WIDTH`, `HEIGHT`, `GROUND_Y` を見つけた
- [ ] `GROUND_Y` を変えると、地面の高さが変わることを確認した
- [ ] キャラが画面から落ちない（見切れない）範囲に地面を調整した

#### サンプルコード（例）

```python
# config.py の例
WIDTH = 800
HEIGHT = 480
GROUND_Y = 96  # 地面の高さ（ここをDay1で調整してよい）
```

> ✅ Bさんは「**ステージの設計者**」です。  
> 高すぎるとジャンプが短く見え、低すぎると落ちすぎてしまうので、何度か試してみてください。

---

### 3-3. C：重力（落下）担当

**目的**：ジャンプ後に主人公が自然に落ちて、地面で止まるようにする。

#### チェックリスト

- [ ] 1フレームごとに `vy`（縦方向の速度）に `GRAVITY` を足している
- [ ] `y` に `vy` を足して位置を更新している
- [ ] 地面より下に行きそうになったとき、ぴったり `GROUND_Y` で止めている
- [ ] 地面に着地したタイミングで `on_ground = True` にしている

#### サンプルコード（イメージ）

```python
    def step(self, dt):
        # 落下
        self.vy += GRAVITY * dt
        self.y += self.vy * dt

        # 地面より下にめり込まないようにする
        if self.y <= self.ground:
            self.y = self.ground
            self.vy = 0.0
            self.on_ground = True
```

> ✅ Cさんは「**物理エンジン係**」です。  
> プレイしてみて「ふわふわ」「ドスン」の違いを感じながら、`GRAVITY` を調整してみてください。

---

### 3-4. D：ジャンプ担当

**目的**：Spaceキーを押したときに、主人公が気持ちよくジャンプできるようにする。

#### チェックリスト

- [ ] キーボード入力（Spaceキー）を受け取る処理を確認した
- [ ] 地面にいるときだけ `vy` を `JUMP_VEL` にセットするようにした
- [ ] 「押しっぱなしでずっとジャンプ」にならないようにした
- [ ] 余裕があれば、二段ジャンプや溜めジャンプの案をメモした

#### サンプルコード（イメージ）

```python
    def _kd(self, win, key, *a):
        self.keys.add(key)
        if key == 32:  # Space
            if self.on_ground:
                self.vy = JUMP_VEL
                self.on_ground = False
        return True
```

> ✅ Dさんは「**気持ちよさ担当**」です。  
> 「低すぎる・高すぎる」などの感想を、Gさんに伝えてバグログに残してもらいましょう。

---

### 3-5. E：背景スクロール担当

**目的**：主人公は画面の左寄りに固定したまま、背景だけが流れているように見せる。

#### チェックリスト

- [ ] `self.scroll` のような変数で、背景のスクロール量を管理している
- [ ] `update` の中で `self.scroll += SPEED` のように値を増やしている
- [ ] 描画時に、背景や地面の描画位置に `-self.scroll` を足して動かしている
- [ ] スクロールが増え続けても破綻しないように、適度にリセットしている

> ✅ Eさんは「**世界を動かす係**」です。  
> Player自体はあまり動かさず、背景を動かすのがランナーゲームのコツです。

---

### 3-6. F：掃除＆コメント担当

**目的**：他の人が書いたコードを読みやすく整え、「Day1完成版」として仕上げる。

#### チェックリスト

- [ ] 使っていない変数や `print` を見つけて、消すかコメントにした
- [ ] 同じ意味の数字（マジックナンバー）を、`config.py` の定数に置き換えた
- [ ] 「ここでなにをしているか」が分かるコメントを1〜2行ずつ追加した

> ✅ Fさんは「**エディタのクリーナー**」です。  
> バグを直すのではなく、「読めるコード」にすることが仕事です。

---

### 3-7. G：テスト＆バグログ担当

**目的**：今日作った Day1 のゲームを実際に遊んでみて、バグや改善アイデアをメモする。

- 触るファイル：`docs/Day1_buglog.md`（この日から新規作成）

#### チェックリスト

- [ ] 少なくとも3回以上プレイしてみた
- [ ] 「落ち方」「ジャンプの高さ」「地面の高さ」の感想をチームに共有した
- [ ] 気になった点を1件ずつ文章にして書いた

#### バグログテンプレ

```text
【2025-xx-xx Day1 バグログ】

■バグ1：ジャンプ後に地面にめり込む
内容：
    長いジャンプのあと、キャラが地面より下に行ってしまう。
原因（予想）：
    y座標のチェックがGROUND_Yよりも下で行われている。
対応：
    y <= GROUND_Y のときにyをGROUND_Yに戻すようにした。

■改善アイデア1：ジャンプ音を鳴らしたい
内容：
    ジャンプしたときに効果音があると楽しそう。
メモ：
    Day4以降でサウンド機能を追加したい。
```

---

## 4. 全員共通のNGリスト

- 他の人の担当部分を勝手に削除しない（修正したいときは相談する）
- エラーが出たときに、**黙ってコードを消してしまわない**
- `main_day1.py` をコピーして別ファイル名にする場合、どれが最新か分からなくならないようにする

---

## 5. 今日のまとめメモ欄（クラス用）

- 今日できたこと：

- 次にやりたいこと（Day2 への発展案など）：
